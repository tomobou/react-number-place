(this.webpackJsonptomobou=this.webpackJsonptomobou||[]).push([[0],{12:function(e,t,n){"use strict";n.r(t);var r=n(11),a=n(9),i=n(2),s=n(3),c=n(5),u=n(4),o=n(1),l=n.n(o),d=n(10),h=n.n(d),f=(n(17),n(0)),v=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(f.jsx)("button",{className:"square",onClick:this.props.onClick,children:this.props.value})}}]),n}(l.a.Component),j=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"renderBoardRow",value:function(e,t){return Object(f.jsxs)("div",{className:"board-row",children:[this.renderBlock(e,t),this.renderBlock(e,t+3),this.renderBlock(e,t+6)]})}},{key:"renderBlock",value:function(e,t){return Object(f.jsxs)("div",{className:"board-block",children:[this.renderBlockRow(e,t),this.renderBlockRow(e+1,t),this.renderBlockRow(e+2,t)]})}},{key:"renderBlockRow",value:function(e,t){return Object(f.jsxs)("div",{className:"block-row",children:[this.renderSquare(e,t),this.renderSquare(e,t+1),this.renderSquare(e,t+2)]})}},{key:"renderSquare",value:function(e,t){var n=this;return Object(f.jsx)(v,{value:this.props.squares[e][t],onClick:function(){return n.props.onClick(e,t)}})}},{key:"render",value:function(){return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"board-top",children:[this.renderBoardRow(0,0),this.renderBoardRow(3,0),this.renderBoardRow(6,0)]})})}}]),n}(l.a.Component);function b(e){var t=e.map((function(e,t){return e.map((function(e,n){return{value:"1"<=e&&e<="9"?Number(e):null,candidates:"1"<=e&&e<="9"?[]:Array.from({length:9},(function(e,t){return t+1})),rowIndex:t,colIndex:n}}))})),n=function(e){var t=Array(27),n=0;e.forEach((function(e){t[n++]=e}));for(var r=function(r){t[n++]=e.map((function(e){return e[r]}))},a=0;a<9;a++)r(a);for(var i=0;i<9;i+=3)for(var s=0;s<9;s+=3)t[n++]=[e[i][s],e[i][s+1],e[i][s+2],e[i+1][s],e[i+1][s+1],e[i+1][s+2],e[i+2][s],e[i+2][s+1],e[i+2][s+2]];return t}(t);!function(e){e.forEach((function(e){var t=e.filter((function(e){return null!==e.value})).map((function(e){return e.value}));e.forEach((function(e){e.candidates=e.candidates.filter((function(e){return!t.some((function(t){return e===t}))}))}))}))}(n);var i=function(e,t){for(var n=0;n<9;n++)for(var r=0;r<9;r++){var a=e[n][r].candidates;if(1===e[n][r].candidates.length)return p(t,n,r,a[0])}return null}(t,"UNIQUE_PLACE");return null!=i?i:(i=function(e){var t,n=Object(a.a)(e);try{var i=function(){var e=t.value,n=new Map;e.forEach((function(e,t){return e.candidates.forEach((function(e){null!=n.get(e)?n.set(e,-1):n.set(e,t)})),n}));for(var a=0,i=Object(r.a)(n.entries());a<i.length;a++){var s=i[a],c=s[0],u=s[1];if(null!=u&&-1!==u){var o=e[u];return o.candidates=[c],{v:p("UNIQUE_CANDIDATE",o.rowIndex,o.colIndex,o.candidates[0])}}}};for(n.s();!(t=n.n()).done;){var s=i();if("object"===typeof s)return s.v}}catch(c){n.e(c)}finally{n.f()}return null}(n),null!=i?i:(console.log(t),console.log(n),null))}function p(e,t,n,r){return{type:e,row:t,col:n,value:r}}function y(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{className:"next-prediction",onClick:e.onClick,children:"next"}),Object(f.jsx)("span",{className:"next-prediction-text",children:e.predictText})]})}function k(e){return Object(f.jsx)("button",{className:"save",onClick:e.onClick,children:"save"})}function O(e){return Object(f.jsx)("button",{className:"load",onClick:e.onClick,children:"load"})}function m(e){return Object(f.jsx)("button",{className:"clear",onClick:e.onClick,children:"clear"})}var x=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=parseInt(this.props.selectValue,10),n=Array(10).fill("number-selector");return isNaN(t)||t<=0||t>=10?n[0]+=" selected":n[t]+=" selected",Object(f.jsx)("div",{className:"number-selector-row",children:n.map((function(t,n){var r=0===n?" ":n.toString();return Object(f.jsx)("button",{className:t,onClick:function(){return e.props.onClick(r)},children:r},"number-selector-"+n)}))})}}]),n}(l.a.Component),C=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.history.map((function(e){return Object(f.jsx)("div",{children:e})}));return Object(f.jsx)("div",{className:"history-view",children:e})}}]),n}(l.a.Component),S=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={squares:Array(9).fill(null).map((function(e){return Array(9).fill(null)})),selectValue:" ",predictText:"",history:[]},r}return Object(s.a)(n,[{key:"getPredictionTypeMessage",value:function(e){switch(e){case"UNIQUE_PLACE":return"\u5024\u78ba\u5b9a";case"UNIQUE_CANDIDATE":return"\u6761\u4ef6\u78ba\u5b9a";default:return e}}},{key:"getSetValueHistoryPrediction",value:function(e){return this.getSetValueHistoryMessage(e.row,e.col,e.value.toString(),this.getPredictionTypeMessage(e.type))}},{key:"getSetValueHistoryMessage",value:function(e,t,n,r){return"[\u2193"+(e+1)+"][\u2192"+(t+1)+"]\uff1d"+n+"("+r+")"}},{key:"clearHistory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];""!==e&&t.push(e),this.setState((function(e){return{history:t}}))}},{key:"addHistory",value:function(e){var t=this.state.history;t.push(e),this.setState((function(e){return{history:t}}))}},{key:"handleClick",value:function(e,t){var n=this.state.squares.slice();n[e][t]=this.state.selectValue,this.setState((function(e){return{squares:n}})),this.addHistory(this.getSetValueHistoryMessage(e,t,this.state.selectValue,"\u30e6\u30fc\u30b6\u30fc"))}},{key:"handleSelect",value:function(e){this.setState((function(t){return{selectValue:e}}))}},{key:"handleNextPrediction",value:function(){var e=b(this.state.squares);if(null!=e){var t=this.state.squares,n="["+(e.row+1)+"]\u884c["+(e.col+1)+"]\u5217\u76ee\u306f"+e.value+"\u3067\u3059\u3002";t[e.row][e.col]=e.value.toString(),this.setState((function(e){return{squares:t,predictText:n}})),this.addHistory(this.getSetValueHistoryPrediction(e))}else this.setState((function(e){return{predictText:"\u6b21\u306e\u5019\u88dc\u306f\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f"}}))}},{key:"handleSaveSquares",value:function(){console.log(this.state.squares),localStorage.setItem("squares",this.state.squares.map((function(e){return e.join(",")})).join(","))}},{key:"handleLoadSquares",value:function(){var e,t=null===(e=localStorage.getItem("squares"))||void 0===e?void 0:e.split(",");if(null!=t){var n=Array(9).fill(null).map((function(e,n){return t.slice(9*n,9*(n+1))}));this.setState((function(e){return{squares:n}})),this.clearHistory("\u30ed\u30fc\u30c9\u3057\u307e\u3057\u305f")}}},{key:"handleClearSquares",value:function(){this.setState((function(e){return{squares:Array(9).fill(null).map((function(e){return Array(9).fill(null)}))}})),this.clearHistory()}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"game",children:[Object(f.jsx)(j,{squares:this.state.squares,onClick:function(t,n){return e.handleClick(t,n)}}),Object(f.jsx)(x,{selectValue:this.state.selectValue,onClick:function(t){return e.handleSelect(t)}}),Object(f.jsx)(y,{predictText:this.state.predictText,onClick:function(){return e.handleNextPrediction()}}),Object(f.jsxs)("div",{className:"button-row",children:[Object(f.jsx)(k,{onClick:function(){return e.handleSaveSquares()}}),Object(f.jsx)(O,{onClick:function(){return e.handleLoadSquares()}}),Object(f.jsx)(m,{onClick:function(){return e.handleClearSquares()}})]}),Object(f.jsx)(C,{history:this.state.history})]})}}]),n}(l.a.Component);h.a.render(Object(f.jsx)(S,{}),document.getElementById("root"))},17:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.1ae4a963.chunk.js.map